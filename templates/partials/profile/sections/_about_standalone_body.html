{# Extracted standalone About Me body to avoid complex nested if in main template #}
<div class="flex items-start gap-4 flex-wrap relative">
  <div class="flex items-center gap-3 mb-4">
    <div class="w-8 h-8 rounded-xl bg-[#116466]/10 flex items-center justify-center ring-1 ring-[#BEE3DB] shadow-inner">
      <svg class="w-4.5 h-4.5 text-[#116466]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5Z"/><path d="M3.5 22c1.4-3.9 5-6.5 8.5-6.5s7.1 2.6 8.5 6.5"/></svg>
    </div>
    <div class="flex flex-col">
      <h2 class="text-[20px] md:text-[22px] font-semibold tracking-tight text-[#2e4a49] leading-snug">About Me</h2>
      <span class="hidden md:inline text-[11px] font-medium text-[#89B0AE]">Share connection, values & style</span>
    </div>
  </div>
</div>
{% comment %} When not editable (public full profile), show intro video first (if exists) like original modal style {% endcomment %}
{% if not editable %}
<!-- Intro Video (public ordering: first) -->
<template x-if="$store.profileModal.therapist.video_gallery && $store.profileModal.therapist.video_gallery.length">
  <div class="mb-10" x-data="videoManager()" x-init="if(!video){ const vg=Alpine.store('profileModal')?.therapist?.video_gallery||[]; if(vg.length) video=vg[0]; }">
    <div class="flex items-center gap-3 mb-2">
      <h3 class="text-xl font-semibold text-[#555B6E]">Intro Video</h3>
      <span class="text-[11px] font-medium text-[#89B0AE]" x-text="video ? '1 / 1' : '0 / 1'"></span>
    </div>
    <div class="w-full md:w-72 flex flex-col gap-4">
      <div class="rounded-xl overflow-hidden bg-black aspect-video relative">
        <video :src="video.video_url" controls playsinline class="w-full h-full object-cover"
               @error="console.warn('Intro video failed to load, removing.'); const s=Alpine.store('profileModal'); if(s?.therapist){ s.therapist.video_gallery=[]; }"></video>
      </div>
      <template x-if="video.caption"><p class="text-[11px] text-[#555B6E]" x-text="video.caption"></p></template>
    </div>
  </div>
</template>
{% endif %}
<!-- Personal Statement 1 -->
<div x-show="editable || $store.profileModal.therapist.personal_statement_q1" x-cloak>
  <div class="mb-8 rounded-xl p-4 md:p-5 bg-statement/90 ring-1 ring-[#BEE3DB] shadow-md" style="box-shadow:0 4px 18px -6px #555B6E1F;">
    <div class="group relative cursor-pointer" data-edit-wrapper data-field="personal_statement_q1" x-data="{can_edit: {{ editable|default:0|yesno:'true,false' }} }" role="button" tabindex="0" @click.stop="can_edit && $dispatch('edit-rich-text',{field:'personal_statement_q1',current:$store.profileModal.therapist.personal_statement_q1||'', el: $el})">
      <template x-if="$store.profileModal.therapist.personal_statement_q1">
        <div class="text-base md:text-lg leading-relaxed font-light text-[#2e4a49] prose prose-sm max-w-none" x-html="$store.profileModal.therapist.personal_statement_q1"></div>
      </template>
      <template x-if="!$store.profileModal.therapist.personal_statement_q1">
        <p class="italic text-[#89B0AE]" :class="can_edit ? 'animate-pulse' : ''" x-text="can_edit ? 'Add a first personal statement…' : ''"></p>
      </template>
      {% if editable %}<button type="button" class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition text-[10px] px-2 py-1 rounded bg-[#116466] text-white" @click.stop="$dispatch('edit-rich-text',{field:'personal_statement_q1',current:$store.profileModal.therapist.personal_statement_q1||'', el: $el})">Edit</button>{% endif %}
    </div>
  </div>
</div>
<!-- Gallery -->
<div x-show="editable || ($store.profileModal.therapist.gallery_images && $store.profileModal.therapist.gallery_images.length)" x-cloak>
  {% if editable %}
  {# Keep full upload UI in edit contexts #}
  <div class="mb-6 rounded-xl p-4 md:p-5 bg-white/70 ring-1 ring-[#BEE3DB] shadow-sm flex flex-col gap-4" x-data="galleryManager()" x-init="images = (Alpine.store('profileModal')?.therapist?.gallery_images||[]).slice()">
    <div class="flex items-center justify-between flex-wrap gap-3">
      <h3 class="text-sm font-bold tracking-wide text-[#555B6E]">Image Gallery</h3>
      <span class="text-[10px] font-medium text-[#89B0AE]" x-text="images.length + ' / 12'"/>
    </div>
    <div class="grid md:grid-cols-5 gap-4">
      <div class="md:col-span-2 flex flex-col gap-3">
        <div class="relative border-2 border-dashed rounded-lg p-4 flex flex-col items-center justify-center text-center gap-3 bg-white/50" :class="drag ? 'border-[#116466] bg-[#E5F4F2]/60' : 'border-[#BEE3DB]'" @dragover.prevent="drag=true" @dragleave.prevent="drag=false" @drop.prevent="onDrop($event)">
          <svg class="w-8 h-8 text-[#116466]" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M3 15a4 4 0 0 1 4-4h1.26a8 8 0 1 1 7.48 5.5H17a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Zm8-5v6m0 0 2-2m-2 2-2-2"/></svg>
          <p class="text-[11px] leading-snug text="#555B6E]">Drop image or <button type="button" class="underline text-[#116466] font-semibold" @click="$refs.galFile.click()">browse</button><br/>JPG/PNG ≤ 5MB.</p>
          <input type="file" x-ref="galFile" accept="image/*" class="hidden" @change="onFile($event)" />
          <template x-if="file"><p class="text-[10px] text-[#116466] truncate max-w-[140px]" x-text="file.name"></p></template>
          <template x-if="error"><p class="text-[10px] text-[#9b4d49]" x-text="error"></p></template>
        </div>
        <input type="text" x-model="caption" maxlength="80" placeholder="Caption (optional)" class="w-full rounded-md border border-[#BEE3DB] bg-white px-2 py-1.5 text-[12px] focus:border-[#116466] focus:ring-[#116466]" />
        <label class="inline-flex items-center gap-2 text-[11px] text-[#555B6E]"><input type="checkbox" x-model="is_primary" class="accent-[#116466]"/> Primary Image</label>
        <div class="flex gap-2 pt-1">
          <button type="button" @click="upload()" :disabled="uploading || !file" class="px-3 py-1.5 rounded-full text-[11px] font-semibold bg-[#116466] text-white disabled:opacity-40 disabled:cursor-not-allowed hover:bg-[#0d4c4d]">Upload</button>
          <button type="button" @click="reset()" :disabled="uploading || !file" class="px-3 py-1.5 rounded-full text-[11px] font-medium bg-white ring-1 ring-[#BEE3DB] hover:bg-[#E5F4F2] disabled:opacity-30">Clear</button>
        </div>
        <template x-if="uploading"><div class="h-1 w-full bg-[#E5F4F2] rounded overflow-hidden"><div class="h-full bg-[#FF9950] animate-pulse" style="width:100%"></div></div></template>
      </div>
      <div class="md:col-span-3">
        <template x-if="!images.length"><p class="text-[11px] italic text-[#89B0AE]">No images yet. Upload your first.</p></template>
        <div class="grid grid-cols-3 gap-2" x-show="images.length">
          <template x-for="img in images" :key="img.id || img.url">
            <div class="relative group border rounded-lg overflow-hidden bg-white ring-1 ring-[#BEE3DB]/70">
              <img :src="img.url" class="w-full h-24 object-cover" :alt="img.caption" />
              <div class="absolute inset-0 bg-black/0 group-hover:bg-black/25 transition"></div>
              <div class="absolute top-1 left-1 flex gap-1">
                <span x-show="img.is_primary" class="px-1.5 py-0.5 rounded bg-[#116466] text-white text-[9px] font-semibold">Primary</span>
              </div>
              <div class="absolute top-1 right-1 flex gap-1 opacity-0 group-hover:opacity-100 transition">
                <button type="button" @click="setPrimary(img)" x-show="!img.is_primary" class="px-1.5 py-0.5 rounded bg-white text-[9px] font-semibold text-[#116466] ring-1 ring-[#BEE3DB] hover:bg-[#E5F4F2]">Primary</button>
                <button type="button" @click="remove(img)" class="px-1.5 py-0.5 rounded bg-[#FFE8E5] text-[9px] font-semibold text-[#9b4d49] hover:bg-[#FFD5CF]">Del</button>
              </div>
              <div class="p-1">
                <input type="text" x-model="img.caption" @change="saveMeta(img)" maxlength="60" placeholder="Caption" class="w-full bg-white/80 rounded border border-[#BEE3DB] px-1 py-0.5 text-[10px] focus:border-[#116466] focus:ring-[#116466]" />
              </div>
            </div>
          </template>
        </div>
      </div>
    </div>
  </div>
  {% endif %}
  {% if not editable %}
    <template x-if="$store.profileModal.therapist.gallery_images && $store.profileModal.therapist.gallery_images.length">
      <div class="mb-10" x-data="{ hover:false }">
        <div class="flex items-center justify-between mb-3">
          <h3 class="text-sm font-bold tracking-wide text-[#555B6E]">My Images</h3>
          <span class="text-[10px] font-medium text-[#89B0AE]" x-text="$store.profileModal.therapist.gallery_images.length + ' image' + ($store.profileModal.therapist.gallery_images.length===1?'':'s')"></span>
        </div>
        <div class="grid grid-cols-3 md:grid-cols-6 gap-2 md:gap-3" data-gallery>
          <template x-for="(g,i) in $store.profileModal.therapist.gallery_images" :key="g.url || i">
            <figure class="group relative overflow-hidden rounded-xl ring-1 ring-[#BEE3DB] bg-white/60 backdrop-blur-sm shadow-sm hover:shadow-lg transition-all cursor-zoom-in" :class="g.is_primary ? 'col-span-3 md:col-span-3 row-span-2' : 'col-span-1'" data-lightbox-image @click="($store.mediaLightbox ? $store.mediaLightbox.openImage(g.url) : ($store.profileModal.lightboxImage=g.url))" tabindex="0" @keydown.enter.prevent="($store.mediaLightbox ? $store.mediaLightbox.openImage(g.url) : ($store.profileModal.lightboxImage=g.url))">
              <div class="w-full overflow-hidden flex items-center justify-center bg-[#F6FBFA]" :class="g.is_primary ? 'aspect-[4/3] md:aspect-[16/10]' : 'aspect-[4/3]'">
                <img :src="g.url" :alt="g.caption || 'Gallery image'" loading="lazy" class="w-full h-full object-cover will-change-transform transition duration-500 ease-out group-hover:scale-105 group-focus:scale-105" />
              </div>
              <div class="pointer-events-none absolute inset-0 flex flex-col justify-end">
                <div class="opacity-0 group-hover:opacity-100 group-focus:opacity-100 transition-opacity duration-300 bg-gradient-to-t from-black/55 via-black/20 to-transparent p-2 md:p-2.5">
                  <div class="flex items-center gap-2">
                    <span x-show="g.is_primary" class="px-1.5 py-0.5 rounded-md bg-[#116466] text-white text-[9px] font-semibold tracking-wide shadow">PRIMARY</span>
                    <p x-show="g.caption" x-text="g.caption" class="text-[11px] leading-tight text-white font-medium line-clamp-2"></p>
                  </div>
                </div>
              </div>
              <div class="absolute inset-0 rounded-xl ring-2 ring-offset-2 ring-[#116466] opacity-0 group-focus:opacity-100 transition"></div>
            </figure>
          </template>
        </div>
      </div>
    </template>
  {% else %}
    <template x-if="$store.profileModal.therapist.gallery_images && $store.profileModal.therapist.gallery_images.length">
      <div class="mb-10" x-data="{build(){const imgs=$store.profileModal.therapist.gallery_images||[];let p=imgs.findIndex(g=>g.is_primary);if(p===-1)p=0;const spans=[];let rem=6;for(let i=0;i<imgs.length;i++){if(i===p){if(rem<3)rem=6;spans[i]=3;rem-=3;if(rem===0)rem=6;continue;}if(rem===1){spans[i]=1;rem=6;continue;}if(rem===5){spans[i]=2;rem-=2;continue;}if(rem===4){const r=(this.h(i+(imgs[i].url||''))%100)/100;spans[i]=r<0.7?2:1;rem-=spans[i];continue;}if(rem===3){spans[i]=1;rem-=1;if(rem===0)rem=6;continue;}if(rem===2){spans[i]=2;rem=6;continue;}const r=(this.h(i+(imgs[i].url||''))%100)/100;spans[i]=r<0.5?2:1;rem-=spans[i];}imgs.forEach((g,i)=>{const base='h-40 md:h-48';if(i===p){g._cls='col-span-4 sm:col-span-4 '+base;return;}const s=spans[i]||1;g._cls=(s===2?'col-span-2 sm:col-span-2 ':'col-span-1 sm:col-span-1 ')+base;});},h(str){let h=0;for(let j=0;j<str.length;j++){h=((h<<5)-h)+str.charCodeAt(j);h|=0;}return Math.abs(h);} }" x-init="build()">
        <h3 class="text-sm font-bold tracking-wide text-[#555B6E] mb-3">My Images</h3>
        <div class="grid grid-cols-4 sm:grid-cols-8 gap-0 overflow-hidden rounded-lg bg-statement">
          <template x-for="g in $store.profileModal.therapist.gallery_images" :key="g.url || Math.random()">
            <figure @click="($store.mediaLightbox ? $store.mediaLightbox.openImage(g.url) : ($store.profileModal.lightboxImage=g.url))" class="group relative cursor-zoom-in bg-statement select-none focus:outline-none focus:ring-2 focus:ring-[#89B0AE] flex items-start justify-start" :class="g._cls || 'col-span-1 sm:col-span-1 h-40 md:h-48'">
              <img :src="g.url" :alt="g.caption" class="w-full h-full object-contain transition-transform duration-300 group-hover:scale-105" loading="lazy" />
              <div class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity bg-black/20 pointer-events-none"></div>
            </figure>
          </template>
        </div>
      </div>
    </template>
  {% endif %}
  <template x-if="editable && (!($store.profileModal.therapist.gallery_images && $store.profileModal.therapist.gallery_images.length))"><p class="italic text-[12px] text-[#89B0AE] mb-8">No gallery images yet.</p></template>
</div>
<!-- Personal Statement 2 -->
<div x-show="editable || $store.profileModal.therapist.personal_statement_q2" x-cloak>
  <div class="mb-8 rounded-xl p-4 md:p-5 bg-statement/90 ring-1 ring-[#BEE3DB] shadow-md" style="box-shadow:0 4px 18px -6px #555B6E1F;">
    <div class="group relative cursor-pointer" data-edit-wrapper data-field="personal_statement_q2" x-data="{can_edit: {{ editable|default:0|yesno:'true,false' }} }" role="button" tabindex="0" @click.stop="can_edit && $dispatch('edit-rich-text',{field:'personal_statement_q2',current:$store.profileModal.therapist.personal_statement_q2||'', el: $el})">
      <template x-if="$store.profileModal.therapist.personal_statement_q2">
        <div class="text-base md:text-lg leading-relaxed font-light text-[#2e4a49] prose prose-sm max-w-none" x-html="$store.profileModal.therapist.personal_statement_q2"></div>
      </template>
      <template x-if="!$store.profileModal.therapist.personal_statement_q2">
        <p class="italic text-[#89B0AE]" :class="can_edit ? 'animate-pulse' : ''" x-text="can_edit ? 'Add a second personal statement…' : ''"></p>
      </template>
      {% if editable %}<button type="button" class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition text-[10px] px-2 py-1 rounded bg-[#116466] text-white" @click.stop="$dispatch('edit-rich-text',{field:'personal_statement_q2',current:$store.profileModal.therapist.personal_statement_q2||'', el: $el})">Edit</button>{% endif %}
    </div>
  </div>
</div>
{% if editable %}
<!-- Video with upload/record UI (kept in edit mode after Statement 2) -->
<div x-show="editable || ($store.profileModal.therapist.video_gallery && $store.profileModal.therapist.video_gallery.length)" x-cloak>
  <div class="mb-10 rounded-xl p-4 md:p-5 bg-white/80 ring-1 ring-[#BEE3DB] shadow-sm" x-data="videoManager()" x-init="if(!video){ const vg=Alpine.store('profileModal')?.therapist?.video_gallery||[]; if(vg.length) video=vg[0]; }" {% if editable %}data-editable="1"{% endif %}>
    <div class="flex items-center gap-3 mb-4">
      <h3 class="text-sm font-bold tracking-wide text-[#555B6E]">Intro Video</h3>
      <span class="text-[10px] font-medium text-[#89B0AE]" x-text="video ? '1 / 1' : '0 / 1'"></span>
    </div>
    <div class="flex flex-col md:flex-row gap-6">
      <div class="w-full md:w-80 flex flex-col gap-4">
        <template x-if="!video">
          <div class="space-y-4">
            <p class="text-[11px] italic text-[#89B0AE]">No intro video yet.</p>
            <div class="relative border-2 border-dashed rounded-lg p-4 flex flex-col items-center justify-center text-center gap-3 bg-white/60" :class="drag ? 'border-[#116466] bg-[#E5F4F2]/60' : 'border-[#BEE3DB]'" @dragover.prevent="drag=true" @dragleave.prevent="drag=false" @drop.prevent="drag=false; const f=$event.dataTransfer?.files?.[0]; if(f) file=f;">
              <svg class="w-9 h-9 text-[#116466]" fill="none" stroke="currentColor" stroke-width="1.6" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v12m0 0 4-4m-4 4-4-4M4 16.5a4.5 4.5 0 0 1 4.5-4.5h1.118a2 2 0 0 0 1.414-.586l1.172-1.172a2 2 0 0 1 1.414-.586H15a5 5 0 0 1 5 5v1a4 4 0 0 1-4 4H8.5A4.5 4.5 0 0 1 4 16.5Z"/></svg>
              <p class="text-[11px] leading-snug text-[#555B6E]">Drop video or <button type="button" class="underline font-semibold" @click="$refs.vidFile.click()">browse</button><br/>MP4 / WebM ≤ 100MB</p>
              <input type="file" x-ref="vidFile" accept="video/mp4,video/webm" class="hidden" @change="onFile($event)" />
              <template x-if="file"><p class="text-[10px] text-[#116466] truncate max-w-[160px]" x-text="file.name"></p></template>
              <template x-if="error"><p class="text-[10px] text-[#9b4d49]" x-text="error"></p></template>
            </div>
            <div class="flex flex-wrap gap-2 items-center">
              <button type="button" @click="recording ? stopRecording() : startRecording()" class="px-3 py-1.5 rounded-full text-[11px] font-semibold" :class="recording ? 'bg-[#9b4d49] text-white' : 'bg-[#116466] text-white hover:bg-[#0d4c4d]'" x-text="recording ? 'Stop' : 'Record'" :disabled="uploading"></button>
              <button type="button" @click="upload()" :disabled="uploading || !file" class="px-3 py-1.5 rounded-full text-[11px] font-semibold bg-[#116466] text-white disabled:opacity-40 disabled:cursor-not-allowed hover:bg-[#0d4c4d]">Upload</button>
              <button type="button" @click="reset()" :disabled="uploading || (!file && !recording)" class="px-3 py-1.5 rounded-full text-[11px] font-medium bg-white ring-1 ring-[#BEE3DB] hover:bg-[#E5F4F2] disabled:opacity-30">Clear</button>
              <template x-if="recording">
                <span class="flex items-center gap-1 text-[10px] font-semibold text-[#9b4d49] animate-pulse select-none">
                  <span class="w-2 h-2 rounded-full bg-[#9b4d49]"></span>REC
                </span>
              </template>
            </div>
            <!-- Live / Recorded Preview -->
            <div class="rounded-lg overflow-hidden bg-black aspect-video relative" x-show="recording || previewUrl" x-cloak>
              <video x-ref="livePreview" x-show="recording" autoplay playsinline muted class="w-full h-full object-cover"></video>
              <video x-show="!recording && previewUrl" :src="previewUrl" controls playsinline class="w-full h-full object-cover"></video>
              <div class="absolute top-2 left-2 flex items-center gap-2" x-show="recording">
                <span class="px-2 py-0.5 rounded-full bg-[#9b4d49] text-white text-[10px] font-semibold shadow">Recording…</span>
              </div>
            </div>
            <input type="text" x-model="caption" maxlength="120" placeholder="Caption (optional)" class="w-full rounded-md border border-[#BEE3DB] bg-white px-3 py-2 text-[12px] focus:border-[#116466] focus:ring-[#116466]" />
            <template x-if="uploading"><div class="h-1 w-full bg-[#E5F4F2] rounded overflow-hidden"><div class="h-full bg-[#FF9950] animate-pulse" style="width:100%"></div></div></template>
          </div>
        </template>
        <template x-if="video">
          <div class="space-y-3">
            <div class="rounded-xl overflow-hidden bg-black aspect-video relative"><video :src="video.video_url" controls playsinline class="w-full h-full object-cover"></video></div>
            <template x-if="video.caption"><p class="text-[11px] text-[#555B6E]" x-text="video.caption"></p></template>
            <textarea x-model="video.caption" @change="updateCaption()" maxlength="128" placeholder="Caption" class="w-full rounded-md border border-[#BEE3DB] bg-white px-3 py-2 text-sm focus:border-[#116466] focus:ring-[#116466]"></textarea>
            <div class="flex gap-2"><button type="button" @click="remove()" class="px-3 py-2 rounded-full bg-[#FFE8E5] text-[#9b4d49] text-xs font-semibold hover:bg-[#FFD5CF]">Delete Video</button></div>
          </div>
        </template>
      </div>
      <div class="flex-1 text-[12px] text-[#555B6E] flex flex-col gap-4">
        <div class="rounded-xl bg-white/70 ring-1 ring-[#BEE3DB] p-4"><h4 class="text-sm font-semibold text-[#116466] mb-2">Tips</h4><ul class="list-disc pl-4 space-y-1"><li>Use a quiet, well-lit space.</li><li>Look at the camera.</li><li>Share who you help and how.</li><li>Keep it welcoming.</li></ul></div>
        <div class="rounded-xl bg-white/70 ring-1 ring-[#BEE3DB] p-4"><h4 class="text-sm font-semibold text-[#116466] mb-2">Recording</h4><p>Record in browser (WebM) or upload MP4/WebM. Only one intro video for now.</p></div>
      </div>
    </div>
  </div>
</div>
{% endif %}
<!-- Personal Statement 3 -->
<div x-show="editable || $store.profileModal.therapist.personal_statement_q3" x-cloak>
  <div class="mb-4 rounded-xl p-4 md:p-5 bg-statement/90 ring-1 ring-[#BEE3DB] shadow-md" style="box-shadow:0 4px 18px -6px #555B6E1F;">
    <div class="group relative cursor-pointer" data-edit-wrapper data-field="personal_statement_q3" x-data="{can_edit: {{ editable|default:0|yesno:'true,false' }} }" role="button" tabindex="0" @click.stop="can_edit && $dispatch('edit-rich-text',{field:'personal_statement_q3',current:$store.profileModal.therapist.personal_statement_q3||'', el: $el})">
      <template x-if="$store.profileModal.therapist.personal_statement_q3">
        <div class="text-base md:text-lg leading-relaxed font-light text-[#2e4a49] prose prose-sm max-w-none" x-html="$store.profileModal.therapist.personal_statement_q3"></div>
      </template>
      <template x-if="!$store.profileModal.therapist.personal_statement_q3">
        <p class="italic text-[#89B0AE]" :class="can_edit ? 'animate-pulse' : ''" x-text="can_edit ? 'Add a third personal statement…' : ''"></p>
      </template>
      {% if editable %}<button type="button" class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition text-[10px] px-2 py-1 rounded bg-[#116466] text-white" @click.stop="$dispatch('edit-rich-text',{field:'personal_statement_q3',current:$store.profileModal.therapist.personal_statement_q3||'', el: $el})">Edit</button>{% endif %}
    </div>
  </div>
</div>
