
{% extends 'base.html' %}
{% block content %}
<div class="min-h-screen bg-[#FAF9F9] py-10">
  <div class="max-w-3xl mx-auto">
    <div class="flex justify-between items-center mb-8">
      <h2 class="text-3xl font-bold text-[#232323] tracking-tight">My Blog Posts</h2>
      <a href="{% url 'user_blog_create' %}" class="get-started-btn">New Post</a>
    </div>
    <div class="rounded-xl shadow-xl bg-white border border-[#BEE3DB] p-8">
      {% if posts %}
        <div class="flex flex-col gap-8">
          {% for post in posts %}
            <div class="rounded-lg border border-[#BEE3DB] bg-[#F6FFF8] p-6 shadow hover:shadow-lg transition">
              <div class="flex flex-wrap justify-between items-center mb-2 gap-2">
                <h3 class="text-xl font-bold text-[#555B6E] mb-0">{{ post.title }}</h3>
                <span class="text-xs px-2 py-1 rounded-full {% if post.published %}bg-[#BEE3DB] text-[#555B6E]{% else %}bg-gray-200 text-gray-500{% endif %}">{% if post.published %}Published{% else %}Draft{% endif %}</span>
              </div>
              <div class="text-sm text-gray-500 mb-2">{{ post.created_at|date:"M d, Y" }}</div>
              <div class="line-clamp-2 text-base mb-2 text-[#232323]">{{ post.content|truncatewords:20|safe }}</div>
              <div class="flex flex-wrap gap-2 mt-2">
                {% for tag in post.tags.all %}
                  <span class="bg-[#BEE3DB] text-[#555B6E] px-3 py-1 rounded-full text-xs font-semibold">{{ tag.name }}</span>
                {% endfor %}
              </div>
              {% if post.slug %}
                <a href="{% url 'blog_detail' slug=post.slug %}" class="text-[#89B0AE] hover:underline text-sm mt-2 inline-block">View Post</a>
              {% endif %}
            </div>
          {% endfor %}
        </div>
      {% else %}
        <div class="text-center text-[#555B6E] text-lg">You haven't written any blog posts yet.</div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}

